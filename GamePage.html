<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CMG|Memory</title>
    <link rel="stylesheet" href="memory.css">
</head>
<body>
<div id="game" class="gameContainer">
    <div class="gameHelp">
        <button>Help</button>
        <div class="gameHelpScreen">
            <H1>Instructions</H1>
            <p>From the start screen, click the button labeled "Start" and a number will appear on screen.</p>
            <p>A number will appear on screen, when you think you have memorised the number, click the button labeled "Next".</p>
            <p>A text field, and button labeled "Submit" will appear, and the number will disappear. Click on the text field and type the number, then press the button.</p>
        </div>
    </div>

    <div id="startScreen" class="gameScreen">
        <button id="startGameButton" onclick="Game()">Start Game</button>
    </div>

    <div id="number" class="gameScreen">
        <p>Remember:</p>
        <p id="value">32</p>
        <button id="timeup" onclick="PartTwo()">Ready</button>
    </div>

    <div id="answer" class="gameScreen">
        <p>What was the number?</p>
        <label>
            <input id="answerText" type="text">
        </label>
        <button id="answerSubmit" onclick="PartThree()">Submit</button>
    </div>

    <div id="successScreen" class="gameScreen">
        <p>Success!</p>
        <button id="resetSuccess" onclick="NextLevel()">Next Level</button>
    </div>

    <div id="failureScreen" class="gameScreen">
        <p>Better Luck Next Time!</p>
        <button id="resetFailure" onclick="Reset()">Reset</button>
    </div>
</div>
<input id="levelSetInput" type="number">
<button onclick="LevelSet()">OK</button>

<script>
    var value = "";
    let randSingle = 0
    let level = 1
    let stringle = "!"
    function Game() {
        document.getElementById("startScreen").style.visibility = "hidden";
        NewRandNum();
        document.getElementById("value").innerHTML = value;
        document.getElementById("number").style.visibility = "visible";

    }
    // This function generates a random number based on level to add difficulty progression
    function NewRandNum(){
        value = "";
        for(let i=0; i<level; i++) {
            randSingle = Math.floor(Math.random() * 10);
            stringle = randSingle.toString();
            value = value + randSingle;
        }
    }
    function PartTwo(){
        document.getElementById("answer").style.visibility = "visible";
        document.getElementById("number").style.visibility = "hidden";
        document.getElementById("answerText").focus();
    }
    function PartThree(){
        if(document.getElementById('answerText').value == value){
            document.getElementById("answer").style.visibility = "hidden";
            document.getElementById("successScreen").style.visibility = "visible";
        } else{
            document.getElementById("answer").style.visibility = "hidden";
            document.getElementById("failureScreen").style.visibility = "visible";
        }
    }
    function NextLevel(){
        document.getElementById("successScreen").style.visibility = "hidden";
        level = level + 1
        NewRandNum();
        document.getElementById("value").innerHTML = value;
        document.getElementById("answerText").value = "";
        document.getElementById("number").style.visibility = "visible";
    }
    function Reset() {
        document.getElementById("successScreen").style.visibility = "hidden";
        document.getElementById("failureScreen").style.visibility = "hidden";
        document.getElementById("startScreen").style.visibility = "visible";
        document.getElementById("answerText").value = "";
        level = 1
    }
    function LevelSet(){
    level = document.getElementById("levelSetInput");
    }
</script>

</body>
</html>